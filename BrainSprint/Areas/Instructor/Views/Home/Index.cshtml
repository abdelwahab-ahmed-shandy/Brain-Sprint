@model InstructorDashboardVM
@{
    ViewData["Title"] = "Dashboard Overview";
}

<div class="stats-cards">
    <div class="stat-card">
        <h3>Active Courses</h3>
        <div class="value">@Model.TotalCourses</div>
        <div class="change up">
            <i class="fas fa-arrow-up"></i>
            <span>@(Model.TotalCourses / 4) from last month</span>
        </div>
    </div>
    <div class="stat-card">
        <h3>Total Students</h3>
        <div class="value">@Model.TotalStudents</div>
        <div class="change up">
            <i class="fas fa-arrow-up"></i>
            <span>@(Model.TotalStudents / 10) from last month</span>
        </div>
    </div>
    <div class="stat-card">
        <h3>Certificates Issued</h3>
        <div class="value">@Model.TotalCertificatesIssued</div>
        <div class="change up">
            <i class="fas fa-arrow-up"></i>
            <span>@(Model.TotalCertificatesIssued / 5) from last month</span>
        </div>
    </div>
    <div class="stat-card">
        <h3>Success Rate</h3>
        <div class="value">
            @{
                var successRate = Model.TotalEnrollments > 0 ?
                (Model.TotalCertificatesIssued * 100 / Model.TotalEnrollments) : 0;
            }
            @successRate%
        </div>
        <div class="change @(successRate > 80 ? "up" : "down")">
            <i class="fas fa-arrow-@(successRate > 80 ? "up" : "down")"></i>
            <span>@(successRate / 10)% from last month</span>
        </div>
    </div>
</div>

<div class="main-sections">
    <div class="section">
        <div class="section-header">
            <h3 class="section-title">Recent Test Results</h3>
            <div class="search-bar">
                <i class="fas fa-search"></i>
                <input type="text" placeholder="Search tests...">
            </div>
        </div>
        <div class="recent-tests">
            <div class="alert alert-info">
                Test results data is not available in the current view model.
            </div>
        </div>
    </div>

    <div class="section">
        <div class="section-header">
            <h3 class="section-title">Course Success Rates</h3>
            <select style="padding: 5px; border-radius: 4px; border: 1px solid #ddd;">
                <option>Last 30 Days</option>
                <option>Last 90 Days</option>
                <option>This Year</option>
            </select>
        </div>

        <div class="course-chart">
            <div class="alert alert-info">
                Course success rates data is not available in the current view model.
            </div>
        </div>

        <h4 style="margin-top: 30px; margin-bottom: 15px;">Top Performing Courses</h4>

        <div class="recent-tests">
            <div class="alert alert-info">
                Top performing courses data is not available in the current view model.
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        document.querySelectorAll('.user-avatar-image').forEach(img => {
            img.addEventListener('error', function() {
                this.style.display = 'none';
            });
        });
    </script>
}